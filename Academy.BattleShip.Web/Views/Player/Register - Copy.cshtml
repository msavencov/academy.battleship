@using Newtonsoft.Json
@model Academy.BattleShip.Web.Models.Player.RegisterModel

<div class="">
    <form method="POST" id="map" class="">
        <div class="panel-heading">
            <button type="button" class="btn btn-default" onclick="map.reset();">Reset</button>
            <button type="submit" class="btn btn-default">Save</button>
        </div>
        <div class="panel-body">

        </div>

        @for (var i = 0; i < Model.ShipMap.Count; i++)
        {
            for (int j = 0; j < Model.ShipMap[i].Count; j++)
            {
                @Html.HiddenFor(t=>t.ShipMap[j][i]);
            }
        }
    </form>
</div>

@section scripts
{
    <script type="text/javascript">
        var map = new Map(@JsonConvert.SerializeObject(Model.ShipMap), $("#map"));

        $(document).ready(function () {
            map.init();

            return;
            
            $('.square').click(function () {
                $(this).toggleClass("selected");
            });
        });
        
        function InitGrid() {
            $(".grid").width(screen.height * 1.45);
            //$(".grid").css("float", "left");

            var size = screen.height * 0.7;
            var boxSize = size / 25 - 2;
            var grid = $(".grid").html("");

            for (var j = 1; j < 11; j++) {

                for (var i = 1; i < 11; i++) {
                    grid.append($("<div></div>").addClass("square").height(boxSize).width(boxSize));
                }
                grid.append($("<div></div>").css("clear", "both"));
            }
        }
    </script>
}
